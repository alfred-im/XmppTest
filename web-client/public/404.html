<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/XmppTest/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>web-client</title>
    <script>
      // GitHub Pages SPA hack: Salva il path originale e redirige alla root
      // L'index.html ripristiner√† poi il path corretto
      (function() {
        var pathSegmentsToKeep = 1; // Per /XmppTest/
        
        var l = window.location;
        // Salva il path completo (dopo /XmppTest/) in sessionStorage
        var redirect = l.pathname.slice(0, l.pathname.lastIndexOf('/') + 1).split('/')
          .slice(0, 1 + pathSegmentsToKeep).join('/') + '/';
        
        // Codifica il path reale come parametro di query
        var query = '?p=' + encodeURIComponent(
          l.pathname.slice(redirect.length - 1) + l.search
        );
        
        // Redirige alla root con il parametro di query
        l.replace(redirect + query);
      })();
    </script>
  </head>
  <body>
  </body>
</html>
